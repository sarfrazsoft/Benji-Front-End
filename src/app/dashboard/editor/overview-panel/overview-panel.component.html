<div class="panel" fxLayout="column">
  <button
    class="dashboard-secondary-button bg-primary-color white-color"
    fxLayoutAlign="center center"
    (click)="addSlide()"
  >
    Add Activity
  </button>
  <button
    (click)="openImportDialog()"
    class="secondary-button black-color import-button"
    >
      <div fxLayoutAlign="center center" fxLayoutGap="8px" fxLayout="row">
        <img src="/assets/img/import.svg"/>
        <div>Import</div>
      </div>
  </button>
  <div
    class="activity-list"
    cdkDropList
    [cdkDropListData]="lessonActivities$ | async"
    (cdkDropListDropped)="drop($event)"
  >
    <div
      class="activity-container"
      fxLayout="row"
      *ngFor="let act of lessonActivities$ | async; let i = index"
      (click)="select(act.id)"
      [ngClass]="{
        active: act.selected
      }"
      cdkDrag
      cdkDragBoundary=".activity-list"
    >
      <div class="activity-controls" fxLayout="column" fxLayoutAlign="space-between space-between">
        <div style="text-align: center;">
          {{ i + 1 }}
        </div>
        <div class="copy-delete-icons" fxLayout="column" fxLayoutGap="8px" style="cursor: pointer">
          <div (click)="copySlide($event, act)">
            <img src="../../../../assets/img/copy_slide_icon.svg" alt="">
          </div>
          <div (click)="deleteActivity(act.id)">
            <img src="../../../../assets/img/delete_slide_icon.svg" alt="">
          </div>
        </div>
      </div>
      <div
        class="activity"
        fxLayout="column"
        fxLayoutAlign="center center"
        [ngClass]="{
          active: act.selected,
          error: lessonActivitiesErrors[act.id]
        }"
      >
        <benji-overview-thumbnail [act]="act"></benji-overview-thumbnail>
      </div>
    </div>
  </div>
</div>
