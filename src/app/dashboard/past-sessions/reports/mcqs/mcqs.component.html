<div class="report-cards" fxLayout="column">
  <div class="card-header">{{ title }}</div>
  
  <ng-container *ngIf="data.activity_type === at.mcq">
    <div *ngFor="let mcq of data.mcqs; let i = index">
      <benji-response-percent-bars
        [data]="mcq"
        [lessonJoinedUsersLength]="data.participant_set.length"
        [lessonJoinedUsers]="data.participant_set"
        [questionRespondentsLength]="mcq.mcqactivityparticipantanswer_set.length"
        [questionRespondents]="mcq.mcqactivityparticipantanswer_set"
        [choiceSet]="mcq.question.mcqchoice_set"
        [questionIndex]="i">
      </benji-response-percent-bars>
    </div>
  </ng-container>
  
  <ng-container *ngIf="data.activity_type === at.poll">
    <div *ngFor="let mcq of data.mcqs; let i = index">
      <benji-response-percent-bars
        [data]="mcq"
        [lessonJoinedUsersLength]="data.participant_set.length"
        [lessonJoinedUsers]="data.participant_set"
        [questionRespondentsLength]="mcq.pollactivityparticipantanswer_set.length"
        [questionRespondents]="mcq.pollactivityparticipantanswer_set"
        [choiceSet]="mcq.question.mcqchoice_set"
        [questionIndex]="i">
      </benji-response-percent-bars>
    </div>
  </ng-container>
  
</div>
