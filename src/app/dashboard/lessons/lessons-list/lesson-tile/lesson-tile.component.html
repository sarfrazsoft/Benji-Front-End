<div class="course-tile" fxLayout="column">
  <div class="thumbnail">
    <div 
      class="image-placeholder" 
      *ngIf="showPlaceholder" 
      fxLayout="column"
      fxLayoutAlign="center center"
      fxLayoutGap="12px"
      (click)="showSettingsModal()"
      benji-click-stop-propagation
    >
      <div><img src="/assets/img/imageUploadIcon.svg" alt=""></div>
      <div>Click to upload an image</div>
    </div>
    <div *ngIf="!showPlaceholder" class="img-container" [ngStyle]="{
      'background-image': 'url(/assets/img/placeholder.png)'
      }">
    </div>
  </div>
  <div class="menu-button">
    <button
      [matMenuTriggerFor]="menu"
      benji-click-stop-propagation
      disableRipple
      aria-label="Example icon-button with a menu"
    >
      <mat-icon>more_vert</mat-icon>
    </button>
    <mat-menu #menu="matMenu" xPosition="before">
      <button mat-menu-item (click)="edit(lesson, $event)">
        <span>Edit</span>
      </button>
      <button mat-menu-item (click)="editDescription($event, lesson)">
        <span>Description</span>
      </button>
      <button mat-menu-item (click)="delete($event, lesson)">
        <span>Delete</span>
      </button>
    </mat-menu>
  </div>
  <div class="title" fxLayout="row" fxLayoutAlign="space-between center" fxLayoutGap="10px">
    <h2>{{ lesson.lesson_name }}</h2>
  </div>
  <div class="course-detail" fxFlex="1 1 auto">
    <div class="description">
      {{ lesson.lesson_description }}
    </div>
  </div>
  <div fxLayout="row" fxLayoutGap="8px">
    <div
      class="launch-session primary-color"
      fxLayout="row"
      fxLayoutAlign="start center"
      (click)="launchSession($event, lesson)"
    >
      <div class="button active squared-border primary-color bg-sky" *ngIf="lesson.is_valid_lesson">
        <span>Launch</span>
      </div>
      <div class="button inactive squared-border"
        *ngIf="!lesson.is_valid_lesson"
        tooltip="Lesson is not complete"
        placement="top"
        tooltip="Lesson is not complete"
        show-delay="100"
        >
        <span>Launch</span>
      </div>
    </div>
    <div
      class="launch-session black-color"
      fxLayout="row"
      fxLayoutAlign="start center"
    >
      <div class="button squared-border edit-session-button">
        <span>Edit</span>
      </div>
    </div>
  </div>
</div>