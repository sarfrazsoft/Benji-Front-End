<ng-container *ngIf="!answerDetailState">
  <div class="b-flat-card center-text mc-card">
    <div class="b-flat-card__title">
      <h2 class="pn-400">Multiple Choice</h2>
    </div>
    <div class="b-flat-card__body">
      <h3 class="pn-400 brownish-grey">{{ question }}</h3>
    </div>
    <div class="b-flat-card__action">
      <button
        class="b-standard-button b-standard-button--unselected"
        [ngClass]="{
          'b-standard-button--correct': revealAnswer && answer.is_correct,
          'b-standard-button--incorrect':
            revealAnswer && !answer.is_correct && i === selectedAnswerIndex,
          'b-standard-button--selected': i === selectedAnswerIndex

        }"
        *ngFor="let answer of answerSet; index as i"
        (click)="selectAnswer(answer, $event, i)"
      >
        {{ answer.choice_text }}
      </button>
    </div>
  </div>
  <div class="mc-card__timer">
    <app-linear-timer
      [timerType]="gameStateTimerType"
      [timeRemaining]="timeRemaining"
      (timesUp)="handleTimesUp($event)"
    ></app-linear-timer>
  </div>
</ng-container>

<ng-container *ngIf="answerDetailState">
  <div class="b-flat-card center-text mc-card">
    <div class="b-flat-card__title">
      <h2 class="pn-400">Multiple Choice</h2>
    </div>
    <ng-container
      *ngIf="
        selectedAnswerIndex !== undefined &&
        answerSet[selectedAnswerIndex].is_correct
      "
    >
      <div class="b-flat-card__twemoji">
        <app-b-twemoji emoji="ðŸŽ‰"></app-b-twemoji>
      </div>
      <h3 class="pn-700 deep-blue">Correct!</h3>
      <div class="b-flat-card__body"></div>
    </ng-container>
    <ng-container
      *ngIf="
        selectedAnswerIndex === undefined ||
        !answerSet[selectedAnswerIndex].is_correct
      "
    >
      <div class="b-flat-card__twemoji">
        <app-b-twemoji emoji="ðŸ™Š"></app-b-twemoji>
        <h3 class="pn-700 deep-blue">Oops!</h3>
      </div>
    </ng-container>
    <div class="b-flat-card__action">
      <button class="b-standard-button--correct b-standard-button">
        {{ correctAnswer.choice_text }}
      </button>
    </div>
    <div class="b-flat-card__action-detail">
      <p>{{ correctAnswerExplanation }}</p>
    </div>
    <div class="mc-card__timer">
      <app-linear-timer
        [timerType]="gameStateTimerType"
        [timeRemaining]="timeRemaining"
        (timesUp)="handleTimesUp($event)"
      ></app-linear-timer>
    </div>
  </div>
</ng-container>
