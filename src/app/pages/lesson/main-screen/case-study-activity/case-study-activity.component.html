<ng-container *ngxPermissionsOnly="'ADMIN'">
  <benji-case-study-facilitator-view
    [activityState]="activityState"
    (sendMessage)="sendSocketMessage($event)"
  >

  </benji-case-study-facilitator-view>

</ng-container>

<ng-container *ngxPermissionsOnly="'PARTICIPANT'">
  <benji-ps-case-study-activity
    [activityState]="activityState"
    [avgServerTimeOffset]="avgServerTimeOffset"
    (sendMessage)="sendSocketMessage($event)"
  ></benji-ps-case-study-activity>
</ng-container>

<!-- <ng-container *ngIf="newLayout">
  <div class="single-column-activity" fxLayout="column" fxLayoutGap="2.5vh">
    <div class="twemoji-container" *ngIf="isEmoji(activityState.casestudyactivity.title_emoji)">
      <app-b-twemoji [text]="activityState.casestudyactivity.title_emoji"> </app-b-twemoji>
    </div>
    <div class="activity-title-container">
      <h1 class="black-color pn-700">
        {{ act.activity_title }}
      </h1>
    </div>
    <div class="activity-title-description-container" *ngIf="act.case_study_details" >
      <p class="secondary-color-dark pn-500" 
      [ngClass]="{
        'smaller-font-class': act.case_study_details.length > 100
      }"
      innerHTML="{{ act.case_study_details }}">
      </p>
    </div>
    <div class="forms-submitted primary-color pn-600" *ngIf="participantLength">
      {{ answeredParticipantsLength }}/{{
        participantLength
      }}
      Submitted
    </div>
  </div>
</ng-container>

<div fxLayout="column" class="mainscreen-activity casestudy-ms" *ngIf="!newLayout">
  <div class="lesson-top-banner">
    <div class="" fxLayout="row" fxLayoutGap="3vw" fxLayoutAlign="space-between center">
      <h1 class="pn-500">
        <span class="primary-color pn-700">
          <ng-container>
            {{ act.activity_title }}
          </ng-container>
        </span>
      </h1>
      <div class="instructions">
        <button 
          (click)="openCheckInModal()"
          class="dashboard-secondary-button bg-primary-color white-color padding0-24">
          Check-in
        </button>
      </div>
      <div
        class="count-info primary-color-darkest"
        fxLayoutAlign="end center"
        *ngIf="submissionScreen"
      >
        {{ ideaSubmittedUsersCount }}/{{ joinedUsers.length }} submitted
      </div>
      <div
        class="count-info primary-color-darkest"
        fxLayoutAlign="end center"
        *ngIf="voteScreen"
      >
        {{ voteSubmittedUsersCount }}/{{ joinedUsers.length }} voted
      </div>
    </div>
  </div>
  <ng-container>
    <div
      class="casestudy-groups"
      fxLayout="row"
      fxLayoutGap="30px"
      cdkDropListGroup
    >
      <div class="group">
        <div class="header primary-color">
          Main Room
        </div>
        <div class="participant-list">
          <ng-container *ngFor="let group of groupsX">
            <div 
              class="participant-name"
              fxLayoutAlign="start center"
              *ngFor="let participant of group.participants"> 
              <span>
                {{ participant.name }} --><!-- 
              </span> 
            </div>
          </ng-container>
        </div>
      </div>
      <div style="width: 100%;">
        <ul>
          <li *ngFor="let group of groupsX">
            <benji-case-study-group 
              [group]="group"
              [collapsed]="groupsX.lenght < 7"
            ></benji-case-study-group>
          </li>
        </ul>
      </div>
    </div>
  </ng-container>
</div> -->