<ng-container>
  <div fxLayout="column" class="mainscreen-activity">
    <div class="lesson-top-banner black-color" fxLayout="row">
      <span class="activity-header">
        {{ activityState.mcqactivity.question.question }}
      </span>
    </div>
    <div class="" fxFlex="1 0 0" fxLayout="row">
      <div 
        class="activity-instructions bg-yellow"
        [fxFlex]="revealAnswers ? '100%' : '75%'"
        fxLayoutAlign="center center">
        <div class="content" fxLayout="column"  fxLayoutAlign="center center">
          <div
            class="quiz-answers"
            fxLayout="row wrap"
            fxLayoutAlign="space-between"
            fxLayoutAlign.md="center center"
            *ngIf="!activityState.lesson.single_user_lesson || revealAnswers">
            <div
              class="answer-container"
              fxLayout="row"
              fxLayoutAlign="center center"
              *ngFor="let option of activityState.mcqactivity.question.mcqchoice_set; let i = index"
              [ngClass]="{'corect-choice': option.is_correct && revealAnswers}"
              style="min-width: 40%;">
                <div class="text">{{ option.choice_text }}</div>
            </div>
          </div>
          <div
            class="quiz-answers single-user"
            fxLayout="column"
            fxLayoutGap="0.8vh"
            *ngIf="activityState.lesson.single_user_lesson && !revealAnswers"
          >
            <button
              class="b-standard-button unselected main-screen-button"
              fxLayout="row"
              *ngFor="let option of activityState.mcqactivity.question.mcqchoice_set; let i = index"
              (click)="singleUserSubmitAnswer(option)"
            >
              <div fxFlex="4vw">{{ optionIdentifiers[i] }}.</div>
              <div>{{ option.choice_text }}</div>
            </button>
            <!-- </div> -->
          </div>
        </div>
      </div>

      <div
        class="bg-yellow"
        fxFlex="25%"
        fxLayoutAlign="center center"
        *ngIf="!showLeaderboard && !revealAnswers"
      >
        <div fxLayout="column" fxLayoutGap="40px" fxLayoutAlign="center center">
          <app-radial-timer
            [timer]="radialTimer"
            endStateText="Times Up!"
            [endAudio]="'bell.wav'"
            [timerOffset]="avgServerTimeOffset"
          ></app-radial-timer>

          <div class="pn-700 submitted-info primary-color">
            {{ getChoiceSubmittedUsers() }}/{{  getActiveParticipants().length }}
            Submitted
          </div>
        </div>
      </div>
      <div
        class="bg-yellow"
        fxFlex="25%"
        fxLayoutAlign="center start"
        *ngIf="showLeaderboard"
      >
        <div class="">
          <div class="leaderboard">
            <p class="header primary-color">Leaderboard</p>
            <ol>
              <li class="leader pn-600" *ngFor="let leader of leaderboard | slice: 0:5; let i = index">
                <div fxLayoutAlign="space-between">
                  <span class="name black-color">
                    <span class="leader-rank black-color"> {{ i + 1 }}. </span>
                    {{ getParticipantName(leader.participant_code) }}
                  </span>
                  <span class="leader-score">{{ leader.score }}</span>
                </div>
              </li>
            </ol>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-container>
