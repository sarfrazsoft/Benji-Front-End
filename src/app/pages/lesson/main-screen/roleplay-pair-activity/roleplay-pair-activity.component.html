<!-- Show list of groups to find eachother  -->
<ng-container *ngIf="!activityState.roleplaypairactivity.grouping_complete">
  <div class="mainscreen-activity ms-act--multi-column pair-activity">
    <div
      class="mainscreen-activity__column--50 mainscreen-activity__activity-detail"
      fxLayoutAlign="center start"
      fxLayout="column"
    >
      <div class="ms-emoji-container">
        <app-b-twemoji emoji="ðŸ‘¯"></app-b-twemoji>
      </div>
      <h1 class="primary-color pn-700">Pair up</h1>

      <p class="secondary-color-dark pn-500">Find your partner and sit with them for the next activity.</p>
      <p class="secondary-color-dark pn-500">Hit the â€˜Weâ€™re readyâ€™ button when youâ€™re set!</p>
    </div>
    <div
      class="mainscreen-activity__column mainscreen-activity__column--50 bg-secondary-color-lightest pair-activity__pairs"
    >
      <p class="ms-act__section-text secondary-color-dark">Find your partner</p>
      <ul class="ul-find-partner">
        <li
          class="li-find-partner secondary-color-dark pn-600"
          *ngFor="let userGroup of activityState.roleplaypairactivity.roleplaypair_set"
          [ngClass]="{
            'primary-color-darkest': userGroup.group_found,
            'long-list': activityState.roleplaypairactivity.roleplaypair_set.length > 15
          }"
        >
          {{ getGroupText(userGroup) }}
          <mat-icon class="ready-icon" *ngIf="userGroup.group_found">check</mat-icon>
        </li>
      </ul>
      <benji-linear-timer
        [timer]="activityState.roleplaypairactivity.grouping_countdown_timer"
        [endAudio]="'bell.wav'"
        [timerOffset]="avgServerTimeOffset"
      ></benji-linear-timer>
    </div>
  </div>
</ng-container>

<!-- Show Role-Play screen to group with instruction on what to do -->
<ng-container *ngIf="activityState.roleplaypairactivity.grouping_complete">
  <div class="mainscreen-activity ms-act--multi-column pair-activity">
    <div class="roleplay-instruction bg-off-white">
      <div class="title all-caps-title">
        <p class="secondary-color-dark pn-500">Role-play</p>
      </div>
      <div class="instruction-columns flexer">
        <div class="role role--1">
          <div class="emoji-container">
            <app-b-twemoji
              [text]="activityState.roleplaypairactivity.primary_role.image_url"
              *ngIf="!isReversed()"
            ></app-b-twemoji>
            <app-b-twemoji
              [text]="activityState.roleplaypairactivity.secondary_role.image_url"
              *ngIf="isReversed()"
            ></app-b-twemoji>
          </div>
          <h3 class="secondary-color-dark pn-500">Partner #1</h3>
          <p class="primary-color-darkest pn-600" *ngIf="!isReversed()">
            {{ activityState.roleplaypairactivity.roleplay_question }}
          </p>
          <p class="secondary-color-dark pn-500" *ngIf="isReversed()">
            {{ activityState.roleplaypairactivity.secondary_role.instructions }}
          </p>
        </div>
        <div class="role role--2">
          <div class="emoji-container">
            <app-b-twemoji
              [text]="activityState.roleplaypairactivity.secondary_role.image_url"
              *ngIf="!isReversed()"
            ></app-b-twemoji>
            <app-b-twemoji
              [text]="activityState.roleplaypairactivity.primary_role.image_url"
              *ngIf="isReversed()"
            ></app-b-twemoji>
          </div>
          <h3 class="secondary-color-dark pn-500">Partner #2</h3>
          <p class="secondary-color-dark pn-500" *ngIf="!isReversed()">
            {{ activityState.roleplaypairactivity.secondary_role.instructions }}
          </p>
          <p class="primary-color-darkest pn-600" *ngIf="isReversed()">
            {{ activityState.roleplaypairactivity.roleplay_question }}
          </p>
        </div>
      </div>
    </div>
    <div
      class="mainscreen-activity__column--33 bg-secondary-color-lightest overflow-hidden"
      fxLayoutAlign="center center"
    >
      <app-radial-timer
        endStateText="Times up!"
        [timer]="activityState.roleplaypairactivity.activity_countdown_timer"
        [timerOffset]="avgServerTimeOffset"
        #discussionTimer
      ></app-radial-timer>
    </div>
    <!-- <div class="linear-timer-container">
      <benji-linear-timer
        [timer]="activityState.roleplaypairactivity.activity_countdown_timer"
        [timerOffset]="avgServerTimeOffset"
      ></benji-linear-timer>
    </div> -->
  </div>
</ng-container>
