<div fxLayout="column" class="mainscreen-activity">
  <div class="lesson-top-banner" fxLayout="row">
    <div fxFlex="60%">
      <h1 class="pn-500">
        <span class="primary-color pn-700">
          {{ activityState.lesson.lesson_name }}
        </span>
      </h1>
    </div>
    <div fxFlex="40%" fxLayoutAlign="end center">
      <button
        class="indigo-launch-button bg-primary-color-dark pn-700"
        (click)="kickOffLesson()"
      >
        Start session <mat-icon class="icon-white">arrow_forward</mat-icon>
      </button>
    </div>
  </div>
  <div fxFlex="1 0 0" fxLayout="row">
    <div
      class="bg-secondary-color-lightest"
      fxFlex="50%"
      fxLayoutAlign="center center"
    >
      <div>
        <div class="activity-instructions">
          <p class="all-caps-title">Room Code</p>
          <p class="room-code pn-700 primary-color-darkest">
            {{ activityState.lesson_run.lessonrun_code }}
          </p>
          <p>
            Sign in at
            <span class="primary-color-darkest pn-700">
              join.mybenji.com
            </span>
            on your phone and enter this code to join the session.
          </p>
        </div>
      </div>
    </div>
    <div class="bg-white" fxFlex="50%">
      <div
        class="mainscreen-activity__column mainscreen-activity__column--25  lobby-activity__joined-users"
      >
        <p class="all-caps-title">
          <span class="lobby-activity__participant-number primary-color-darkest">
            {{ activityState.lesson_run.joined_users.length }}
          </span>
          {{
            activityState.lesson_run.joined_users.length === 1
              ? 'Learner joined'
              : 'Learners joined'
          }}
        </p>
        <ul>
          <li
            *ngFor="let participant of activityState.lesson_run.joined_users"
            class="primary-color-darkest"
            [ngClass]="{
              'long-list': activityState.lesson_run.joined_users.length > 20
            }"
          >
            {{ participant.first_name }}
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>

<audio
  class="hideAndShrink"
  src="../../../../../assets/audio/191678__porphyr__waterdrop.wav"
  #sfxPlayer
>
  Your browser does not support the <code>audio</code> element.
</audio>
<audio
  autoplay
  loop
  class="hideAndShrink"
  src="../../../../../assets/audio/A_A_Aalto_-_Admin.mp3"
>
  Your browser does not support the <code>audio</code> element.
</audio>
