<ng-container *ngIf="!activityState.discussionactivity.discussion_complete">
  <div fxLayout="column" class="mainscreen-activity">
    <div class="lesson-top-banner" fxLayout="row">
      <div fxFlex="35%">
        <h1 class="pn-500">
          <span class="primary-color pn-700">
            Discuss
          </span>
        </h1>
      </div>
      <div fxFlex="65%" fxLayoutAlign="center center">
        <h2 class="pn-500 discuss-instruction">
          Chat with your partner about the prompt below.
        </h2>
      </div>
    </div>
    <div class="" fxFlex="1 0 0" fxLayout="row">
      <div
        class="activity-instructions bg-white"
        fxFlex="60%"
        fxLayoutAlign="start center"
      >
        <div fxLayoutGap="4vw">
          <div fxFlex="25%">
            <div class="ms-emoji-container smaller-emoji">
              <app-b-twemoji emoji="ðŸ¤”"></app-b-twemoji>
            </div>
          </div>
          <div fxFlex="75%" fxLayoutAlign="center center">
            <h2 class="primary-color-darkest pn-600 discuss-instruction">
              {{ activityState.discussionactivity.title }}
            </h2>
          </div>
        </div>
      </div>
      <div
        class="bg-secondary-color-lightest"
        fxFlex="40%"
        fxLayoutAlign="center center"
      >
        <app-radial-timer
          [timer]="activityState.discussionactivity.discussion_countdown_timer"
          endStateText="Done!"
          [endAudio]="'attention-seeker.mp3'"
          [timerOffset]="avgServerTimeOffset"
        ></app-radial-timer>
      </div>
    </div>
  </div>
</ng-container>

<ng-container
  *ngIf="
    activityState.discussionactivity.discussion_complete &&
    activityState.discussionactivity.currently_sharing_group
  "
>
  <div fxLayout="column" class="mainscreen-activity">
    <div class="lesson-top-banner" fxLayout="row">
      <div fxFlex="35%">
        <h1 class="pn-500">
          <span class="primary-color pn-700">
            Share
          </span>
        </h1>
      </div>
      <div fxFlex="65%" fxLayoutAlign="center center">
        <h2 class="pn-500 discuss-instruction">
          Tell the group what you learned. Keep an eye out for your names!
        </h2>
      </div>
    </div>
    <div class="" fxFlex="1 0 0" fxLayout="row">
      <div
        class="activity-instructions bg-white"
        fxFlex="60%"
        fxLayoutAlign="start center"
      >
        <div fxLayoutGap="6vw">
          <div fxFlex="25%">
            <div class="ms-emoji-container smaller-emoji">
              <app-b-twemoji emoji="ðŸ“£"></app-b-twemoji>
            </div>
          </div>
          <div fxFlex="75%" fxLayoutAlign="center start" fxLayout="column">
            <h2 class="primary-color-darkest pn-600 discuss-names">
              {{
                presenterGroupToText(
                  activityState.discussionactivity.currently_sharing_group
                )
              }}
              {{
                activityState.discussionactivity.currently_sharing_group
                  .discussiongroupmember_set.length === 1
                  ? ' is '
                  : ' are '
              }}
              sharing
            </h2>
            <ng-container
              *ngIf="activityState.discussionactivity.next_sharing_group"
            >
              <p class="reduced secondary-color-dark pn-500">
                {{
                  presenterGroupToText(
                    activityState.discussionactivity.next_sharing_group
                  )
                }}
                you're up next
              </p>
            </ng-container>
          </div>
        </div>
      </div>
      <div
        class="bg-secondary-color-lightest"
        fxFlex="40%"
        fxLayoutAlign="center center"
      >
        <app-radial-timer
          [timer]="
            activityState.discussionactivity.currently_sharing_group
              .sharing_countdown_timer
          "
          endStateText="Done!"
          [endAudio]="'bell.wav'"
          [timerOffset]="avgServerTimeOffset"
        ></app-radial-timer>
      </div>
    </div>
  </div>
</ng-container>
