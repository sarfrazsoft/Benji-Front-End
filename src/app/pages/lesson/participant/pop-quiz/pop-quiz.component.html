<div class="center-text mcq-card">
  <!-- show questions -->
  <ng-container *ngIf="showQuestion">
    <div class="b-flat-card__body">
      <benji-participant-timer
        [timer]="timer"
        [endAudio]="'bell.wav'"
        [timerOffset]="avgServerTimeOffset"
      ></benji-participant-timer>
      <h3 class="pn-600 primary-color-darkest">
        {{ activityState.mcqactivity.question.question }}
      </h3>
      <div *ngIf="getCorrectChoices().length > 1" class="multi-correct">
        Select all correct answers
      </div>
    </div>
    <div class="b-flat-card__action">
      <div 
        *ngFor="let option of activityState.mcqactivity.question.mcqchoice_set; let i = index"
        class="mcq-button-container bg-primary-color">
        <button
          class="unselected selected-primary-border-only voting-idea-button"
          [ngClass]="{
            selected: isSelected(option),
            inactive: answerSubmitted
          }"
          (click)="selectOption(option)"
        >
          {{ option.choice_text }}
        </button>
      </div>
      <div class="mcq-button-container">
        <button 
          class="white-color bg-primary-color center-text voting-submit"
          (click)="submitAnswer()">
          Submit
        </button>
      </div>
    </div>
  </ng-container>

  <!-- show result -->
  <ng-container *ngIf="showQuestionsAnswer">
    <div class="b-flat-card__body">
      <div class="twemoji">
        <app-b-twemoji
          *ngIf="answersResults() === 'allCorrect'"
          emoji="🎉"
        ></app-b-twemoji>
        <app-b-twemoji
          *ngIf="answersResults() === 'allWrong'"
          emoji="🙊"
        ></app-b-twemoji>
        <app-b-twemoji
          *ngIf="answersResults() === 'someCorrect'"
          emoji="👏"
        ></app-b-twemoji>
      </div>
      <h1 class="pn-700 black-color">
        {{ getResultText() }}
      </h1>
    </div>
    <div class="b-flat-card__action"
      *ngIf="answersResults() !== 'someCorrect'">
      <ng-container *ngFor="let option of selectedChoices; let i = index">
        <button
          class="b-standard-button unselected"
          [ngClass]="{
            correct: option.is_correct,
            incorrect: !option.is_correct
          }"
          style="margin-bottom: 16px;">
          {{ option.choice_text }}
        </button>
      </ng-container>
    </div>
    <div *ngIf="answersResults() === 'allWrong' || answersResults() === 'allCorrect'" class="b-flat-card__action-detail">
      <p>The correct answer is</p>
      <ng-container *ngFor="let option of getCorrectChoices();let i = index">
        <button
          class="b-standard-button unselected"
          [ngClass]="{correct: option.is_correct}">
          {{ option.choice_text }}
        </button>
      </ng-container>
    </div>
  </ng-container>
</div>
