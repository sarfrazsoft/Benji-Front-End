<div class="b-flat-card center-text mc-card">
  <!-- show questions -->
  <ng-container *ngIf="showQuestion">
    <div class="b-flat-card__body">
      <benji-participant-timer
        [timer]="timer"
        [endAudio]="'bell.wav'"
        [timerOffset]="avgServerTimeOffset"
      ></benji-participant-timer>
      <h3 class="pn-600 primary-color-darkest">
        {{ activityState.mcqactivity.question.question }}
      </h3>
    </div>
    <div class="b-flat-card__action">
      <button
        *ngFor="
          let option of activityState.mcqactivity.question.mcqchoice_set;
          let i = index
        "
        class="b-standard-button unselected"
        [ngClass]="{
          selected: isSelected(option),
          inactive: answerSubmitted
        }"
        (click)="selectOption(option)"
      >
         {{ option.choice_text }}
      </button>

      <button 
        class="b-standard-button white-color bg-primary-color center-text"
        (click)="submitAnswer()">
         Submit
      </button>
    </div>
  </ng-container>

  <!-- show result -->
  <ng-container *ngIf="showQuestionsAnswer">
    <div class="b-flat-card__body">
      <div class="twemoji">
        <app-b-twemoji
          *ngIf="gotCorrectAnswers()"
          emoji="ðŸŽ‰"
        ></app-b-twemoji>
        <app-b-twemoji
          *ngIf="!gotCorrectAnswers()"
          emoji="ðŸ™Š"
        ></app-b-twemoji>
      </div>
      <h1 class="pn-700 black-color">
        {{ gotCorrectAnswers() ? "Correct!" : "Oops, incorrect!" }}
      </h1>
    </div>
    <div class="b-flat-card__action">
      <ng-container
        *ngFor="
          let option of selectedChoices;
          let i = index
        "
      >
        <button
          class="b-standard-button unselected"
          [ngClass]="{
            correct: option.is_correct,
            incorrect: !option.is_correct
          }"
        >
          {{ option.choice_text }}
        </button>
      </ng-container>
    </div>
    <div *ngIf="!gotCorrectAnswers()" class="b-flat-card__action-detail">
      <p>The correct answer is</p>
      <ng-container *ngFor="let option of getCorrectChoices();let i = index">
        <button
          class="b-standard-button unselected"
          [ngClass]="{correct: option.is_correct}">
          {{ option.choice_text }}
        </button>
      </ng-container>
    </div>
    <!-- <div class="b-flat-card__action-detail" style="margin-top: 30px;">
      <p>{{ selectedChoice.explanation }}</p>
    </div> -->
  </ng-container>
</div>

<!-- <div
  class="b-baseline-action bg-primary-color-dark"
  *ngIf="questionTimerStarted"
>
  <benji-animated-checkmark-button
    loadingStateInnerHTML="Loading"
    innerHTML="Submit"
    buttonStyle="white"
    [valid]="answerSubmitted"
    (click)="submitAnswer()"
  ></benji-animated-checkmark-button>
</div> -->
