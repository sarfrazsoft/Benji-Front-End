<!-- Submit ideas -->
<ng-container *ngIf="showSubmitIdeas">
  <div class="b-flat-card heightAuto">
    <div class="content" fxLayout="column">
      <ng-container class="body-text">
        <div class="worksheet-title">
          {{ act.instructions }}
        </div>
        <div class="worksheet-text">
          <!-- show submission limit  -->
          <ng-container *ngIf="act.max_participant_submissions < 10">
            <ng-container *ngIf="noOfIdeasSubmitted === 0">
              You can submit {{ ' ' + act.max_participant_submissions + ' ' }}
              {{ act.max_participant_submissions == 1 ? 'idea' : 'ideas' }}
            </ng-container>
  
            <ng-container *ngIf="noOfIdeasSubmitted > 0">
              You have {{ act.max_participant_submissions - noOfIdeasSubmitted }}
              {{ noOfIdeasSubmitted == 1 ? 'submission' : 'submissions' }} left
            </ng-container>
          </ng-container>
        </div>
        <ng-container *ngIf="act.max_participant_submissions >= 10">
          You can submit multiple ideas
        </ng-container>
      </ng-container>
      <ng-container class="content">
        <div fxLayout="column" fxLayoutGap="16px">
          <ng-container *ngFor="let idea of draftIdeas">
            <benji-idea-container 
              [sendMessage]="sendMessage" 
              [categories]="categories" 
              [activityState]="activityState"
              [participantCode]="participantCode"
              [idea]="idea">
            </benji-idea-container>
          </ng-container>
          <div fxLayout="row" fxLayoutAlign="space-between center">
            <div 
              *ngIf="draftIdeas.length < maxSubmissions" 
              class="primary-color add-idea-link"
              (click)="addDraftIdea()">
              + Add New Idea
            </div>
            <div>
              <ng-container *ngIf="act.max_participant_submissions < 10">
                <ng-container *ngIf="noOfIdeasSubmitted === 0">
                  {{ ' ' + act.max_participant_submissions + ' ' }}
                  {{ act.max_participant_submissions == 1 ? 'idea' : 'ideas' }}
                </ng-container>
      
                <ng-container *ngIf="noOfIdeasSubmitted > 0">
                  {{ act.max_participant_submissions - noOfIdeasSubmitted }}
                  {{ noOfIdeasSubmitted == 1 ? 'submission' : 'submissions' }} left
                </ng-container>
              </ng-container>
            </div>
          </div>
        </div>
      </ng-container>
    </div>
  </div>

</ng-container>


<!-- Thank you for submitting Idea -->
<benji-ps-instruction-template *ngIf="showThankyouForSubmission">
  <ng-container class="body-title">Brainstorming</ng-container>
  <app-b-twemoji class="body-emoji" emoji="ðŸ’¡"></app-b-twemoji>
  <h1 class="body-heading pn-700 primary-color-darkest">Thanks for submitting!</h1>
</benji-ps-instruction-template>

<!-- Submit Votes on ideas -->
<ng-container *ngIf="showSubmitVote">
  <div class="b-flat-card heightAuto">
    <div class="content" fxLayout="column">
      <ng-container class="body-text">
        <div class="worksheet-title">
          Voting time!
        </div>
        <div class="worksheet-text">
          <!-- show voting limit  -->
          You can submit{{ ' ' + act.max_participant_votes + ' ' }}
          {{ act.max_participant_votes === 1 ? 'vote' : 'votes' }}
        </div>
      </ng-container>
      <ng-container class="content">
        <div fxLayout="column" fxLayoutGap="16px" fxLayoutAlign="center center">
          <ng-container *ngFor="let idea of ideas; let i = index">
            <benji-vote-idea
              [ideaId]="idea.id"
              [ideaText]="idea.idea"
              [(selectedIdeas)]="selectedIdeas"
              (ideaSelected)="ideaSelected($event)"
            ></benji-vote-idea>
          </ng-container>
        </div>
      </ng-container>
    </div>
  </div>

  <div class="b-baseline-action bg-primary-color-dark" *ngIf="showVoteSubmitButton">
    <benji-animated-checkmark-button
      loadingStateInnerHTML="Loading"
      innerHTML="Submit"
      buttonStyle="white"
      [valid]="userVoted"
      (click)="submitIdeaVote()"
    ></benji-animated-checkmark-button>
  </div>
</ng-container>

<!-- Thank you for voting -->
<benji-ps-instruction-template *ngIf="showThankyouForVoting">
  <ng-container class="body-title">Brainstorming</ng-container>
  <app-b-twemoji class="body-emoji" emoji="ðŸ’¡"></app-b-twemoji>
  <h1 class="body-heading pn-700 primary-color-darkest">Thanks for voting!</h1>
</benji-ps-instruction-template>

<!-- Look at the winning ideas -->
<ng-container *ngIf="showVoteResults">
  <benji-ps-instruction-template>
    <ng-container class="body-title">Brainstorming</ng-container>
    <app-b-twemoji class="body-emoji" emoji="ðŸ’¡"></app-b-twemoji>
    <h1 class="body-heading pn-700 primary-color-darkest">Woo!</h1>
    <ng-container class="body-text"> Take a look at the top submissions. </ng-container>
  </benji-ps-instruction-template>
</ng-container>
