<div 
  *ngIf="navType=='boards'" 
  class="boards-navigation" 
  fxLayout="column" 
  fxLayoutGap="24px">

  <div fxLayout="row" fxLayoutAlign="space-between center">
    <div class="boards" (click)="diplayInfo()">Boards</div>
    <img class="close" (click)="closeNav()" src="../../../assets/img/side-nav/close.svg"/>
  </div>


  <div fxLayout="column">
    <div class="title">Post</div>
    <div class="posting-settings" fxLayout="column" fxLayoutGap="16px">
      <div 
        class="setting"
        benji-click-stop-propagation
        fxLayout="row"
        fxLayoutAlign="space-between"
      >
        <div>
          <div class="label">Show authorship on cards</div>
          <div class="sub-label">Name of the author appears on card</div>
        </div>
        <label class="switch">
          <input 
            type="checkbox">
          <span class="slider round"></span>
        </label>
      </div>
      <div 
        class="setting"
        benji-click-stop-propagation
        fxLayout="row"
        fxLayoutAlign="space-between"
      >
        <div>
          <div class="label">Large Cards</div>
          <div class="sub-label">When more space is needed</div>
        </div>
        <label class="switch">
          <input 
            type="checkbox">
          <span class="slider round"></span>
        </label>
      </div>
    </div>
  </div>

  <div fxLayout="column" fxLayoutGap="12px">
    <ng-container *ngFor="let board of boards; let j = index">
      <div
        fxLayout="column" 
        class="board" 
        fxLayoutGap="8px"
        [ngClass]="{
          selected: selectedBoard.id === board.id
        }"
        (click)="navigateToBoard(board)">
        <div fxLayout="row" fxLayoutAlign="space-between">
          <div class="title">
            {{ board.board_activity.instructions }}
          </div>
          <button
            [matMenuTriggerFor]="menu"
            benji-click-stop-propagation
            disableRipple>
            <img class="dots" src="../../../assets/img/side-nav/three-dots.svg"/>
          </button>
        </div>
        <div class="sub-title">
          {{ board.board_activity.sub_instructions }}
        </div>
        <div class="persons">
          <benji-profile-pictures
            [activityState]="activityState"
            [participantCodes]="participantCodes"
          ></benji-profile-pictures>
        </div>
      </div>

      <ng-container *ngxPermissionsOnly="'ADMIN'" >
        <div
          (click)="addBoard(j)"
          class="add-group" 
          fxLayoutAlign="center center">
          <img class="plus" src="../../../assets/img/side-nav/plus.svg"/>
        </div>
      </ng-container>
    </ng-container>
  
<!--   
    <div fxLayout="column" class="board" fxLayoutGap="8px">
      <div fxLayout="row" fxLayoutAlign="space-between">
        <div class="title">Share your pitch with the rest of the group</div>
        <img class="dots" src="../../../assets/img/side-nav/three-dots.svg"/>
      </div>
    </div>
  
    <div *ngxPermissionsOnly="'ADMIN'" class="add-group" fxLayoutAlign="center center">
      <img class="plus" src="../../../assets/img/side-nav/plus.svg"/>
    </div>
  
    <div fxLayout="column" class="board" fxLayoutGap="8px">
      <div fxLayout="row" fxLayoutAlign="space-between">
        <div class="title">Did you like todayâ€™s session?</div>
        <img class="dots" src="../../../assets/img/side-nav/three-dots.svg"/>
      </div>
      <div fxLayout="row" class="persons">
        <div *ngFor="let name of participants; let i = index;">
          <div 
            class="initials {{ 'color' + ( i % 10 ) }}" 
            fxLayout="column" fxLayoutAlign="center center">
            {{getInitials(name)}}
          </div>
        </div>
      </div>
    </div> -->
  </div>
</div>

<mat-menu #menu="matMenu" class="board-duplicate-delete" xPosition="before">
  <button mat-menu-item (click)="duplicateBoard()" fxLayout="row" fxLayoutGap="8px" fxLayoutAlign="start center">
    <img class="dots" src="../../../assets/img/side-nav/duplicate.svg"/>
    <span>Duplicate</span>
  </button>
  <button mat-menu-item (click)="openDeleteDialog()" fxLayout="row" fxLayoutGap="8px" fxLayoutAlign="start center">
    <img class="dots" src="../../../assets/img/side-nav/delete.svg"/>
    <span>Delete</span>
  </button>
</mat-menu>

<div  *ngIf="navType=='board-settings'" class="board-settings-navigation" fxLayout="column" fxLayoutGap="24px">

  <div fxLayout="row" fxLayoutAlign="space-between">
    <div class="board-settings" (click)="diplayInfo()">Board Settings</div>
    <img class="close" (click)="closeNav()" src="../../../assets/img/side-nav/close.svg"/>
  </div>
  
  <div fxLayout="column">
    <div class="title">Title</div>
    <div class="edit">
      <div 
        *ngIf="!editingInstructions"
        (click)="editInstructions()"
        class="not-editing">
        {{ instructions }}
      </div>
      <div *ngIf="editingInstructions" class="editing">
        <input
          #title
          style="width: 100%;"
          type="text"
          [(ngModel)]="instructions" 
          (blur)="saveEditedInstructions()"
          (keyup.enter)="saveEditedInstructions()">
      </div>
    </div>
  </div>

  <div fxLayout="column">
    <div class="title">Instructions</div>
    <div class="edit">
      <div 
        *ngIf="!editingSubInstructions"
        (click)="editSubInstructions()"
        class="not-editing">
        {{ sub_instructions }}
      </div>
      <div *ngIf="editingSubInstructions" class="editing">
        <input
          #instructions
          style="width: 100%;"
          type="text"
          [(ngModel)]="sub_instructions" 
          (blur)="saveEditedSubInstructions()"
          (keyup.enter)="saveEditedSubInstructions()">
      </div>
    </div>
  </div>

  <div fxLayout="column">
    <div class="title">Board Status</div>
    <div class="board-status">
      <ng-select
        class="board-status-dropdown"
        appearance="outline" 
        placeholder="Status"
        [searchable]="false"
        [clearable]="false"
        [items]="statusDropdown"
        [(ngModel)]="boardStatus"
        (change)="setBoardStatus()"
        dropdownPosition="bottom">
        <ng-template ng-option-tmp let-item="item" let-index="index">
          <span> {{item}} </span>
        </ng-template>
      </ng-select>
    </div>
  </div>

  <div fxLayout="column">
    <div class="title">Post</div>
    <div class="posting-settings" fxLayout="column" fxLayoutGap="16px">
      <div 
        class="setting"
        benji-click-stop-propagation
        fxLayout="row"
        fxLayoutAlign="space-between"
      >
        <div>
          <div class="label">Show authorship on cards</div>
          <div class="sub-label">Name of the author appears on card</div>
        </div>
        <label class="switch">
          <input 
            type="checkbox">
          <span class="slider round"></span>
        </label>
      </div>
      <div 
        class="setting"
        benji-click-stop-propagation
        fxLayout="row"
        fxLayoutAlign="space-between"
      >
        <div>
          <div class="label">Large Cards</div>
          <div class="sub-label">When more space is needed</div>
        </div>
        <label class="switch">
          <input 
            type="checkbox">
          <span class="slider round"></span>
        </label>
      </div>
    </div>
  </div>
  
  <div fxLayout="column">
    <div class="title">Posts Order</div>
    <div class="board-status">
      <ng-select
        class="board-status-dropdown"
        appearance="outline" 
        placeholder="Status"
        [clearable]="false"
        [searchable]="false"
        [clearable]="false"
        [items]="statusDropdown"
        dropdownPosition="bottom">
        <ng-template ng-option-tmp let-item="item" let-index="index">
          <span> {{item}} </span>
        </ng-template>
      </ng-select>
    </div>
  </div>

  <div fxLayout="column">
    <div class="title">Board Mode</div>
    <div 
      class="board-mode" 
      fxLayout="row" 
      fxLayoutGap="12px"
      (click)="setBoardMode('thread')">
      <img src="../../../assets/img/side-nav/thread.svg"/>
      <div fxLayout="column" fxLayoutAlign="center start">
        <div class="label">Thread</div>
        <div class="sub-label">Display posts in a single thread like popular social feeds.</div>
      </div>
      <img
        class="selected" 
        [ngClass]="{'active': boardMode==='thread'}" 
        src="../../../assets/img/side-nav/selected.svg"/>
    </div>
    <div 
      class="board-mode" 
      fxLayout="row" 
      fxLayoutGap="12px"
      (click)="setBoardMode('grid')">
      <img src="../../../assets/img/side-nav/grid.svg"/>
      <div fxLayout="column" fxLayoutAlign="center start">
        <div class="label">Grid</div>
        <div class="sub-label">A compact way to show many participant posts.</div>
      </div>
      <img
        class="selected" 
        [ngClass]="{'active': boardMode==='grid'}" 
        src="../../../assets/img/side-nav/selected.svg"/>
    </div>
    <div 
      class="board-mode" 
      fxLayout="row" 
      fxLayoutGap="12px"
      (click)="setBoardMode('columns')">
      <img src="../../../assets/img/side-nav/columns.svg"/>
      <div fxLayout="column" fxLayoutAlign="center start">
        <div class="label">Columns</div>
        <div class="sub-label">Organize submissions into categories.</div>
      </div>
      <img 
        class="selected"
        [ngClass]="{'active': boardMode==='columns'}" 
        src="../../../assets/img/side-nav/selected.svg"/>
    </div>
  </div>

  <div fxLayout="column">
    <div class="title">Admin</div>
    <div class="posting-settings" fxLayout="column" fxLayoutGap="16px">
      <div 
        class="setting"
        benji-click-stop-propagation
        fxLayout="row"
        fxLayoutAlign="space-between"
      >
        <div>
          <div class="label">Share Board</div>
          <div class="sub-label">Share board link to invite participants</div>
        </div>
        <div class="option primary-color">
          Copy link
        </div>
      </div>
      <div 
        class="setting"
        benji-click-stop-propagation
        fxLayout="row"
        fxLayoutAlign="space-between"
      >
        <div>
          <div class="label">Clear Board</div>
          <div class="sub-label">Delete all posts on the board</div>
        </div>
        <div class="option clear-board">
          Clear board
        </div>
      </div>
    </div>
  </div>
  
  <div class="delete-button">Delete Board</div>

</div>
